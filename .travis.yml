sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        YLM6CLs+rm0nYSrnkqPKe9SP0lpmt67bLDDalvdJk9E0MIpHcoPEsVwtxSvyFS0NbJ5afoQZBdcCmLc1bvIF7+hxTuvKzOYJ/KXTwdD2MKlzmL4ESH4VY20fyK3GFTieZSkkyhQ/eVSMJmMxQILjVnZgOHR/xz77Nk0Sdl5zQ6FpT9ag6Eh50Q64MWUwaxdB14GwmohlwZrAC1bd0qtAqHkRqAvFYbZHULDWgEy5uzRUvDPicCGPX6JUgZi9DDgK7y00+rRrOorl2FIn5RAbZqb82z+z/uoK/qBKWnwYEOsOWi9VKfrU3PuJqa4zjTOOzmpyHhKkn2bFaJs9wk9XVkj85N6P7bT6wWbG+QER2c+UZXRyUrxR//xUXlNHdbd9oziP/SYVCh47jtmpkmB0PAiJ46HiSh7WQJZmzrQdaZmCUAh0rNmXIbAsbrT4a/fhV7JJhDOc+rX7RCnNQelEtENW9EppClgsqTgw7XWD8zxSaC2CBV803Jw/dzlMZONNSGNGDGEhRku3xSI60Ko+VEQ3+RgDhFoMqO6o/RWNRvVLpL5czdewfUJKBThMzt/uuYD22lJr0avMUl/e/a396W+Qzx0VAbZ9VG4CBI0AGWIh9wlJFz80d3jEPSmNsqMmoj1s0jjtDll4kOlRxBma+pUzmt9ZwueOIydWzjXLMpQ=
    - secure: >-
        HDA2eG95JizydhFDhEPsPWb02x3QrPHDZN5UgfVj2wn/rStDMY+LgV0N9l+we9t4hRUjawAvIBiEgJWK3ENzmeX8qBL/ZAmHDA3ohs00UMAcXGD8NILiVI2QihnIGtKHAQ87SBold3O1TmyHzQ186dFcqUjH7WmlcLLkj/czGPC11lPROaiV0C9fxK/vzL0PygAP3/UFooOfGpHf9eSfxQJatwDkqmkwO89nlziYN5u51iiKMdfapiqKEwr2qkRpuarB1qx0NAsBMCk9W6TllHZYOAY3ruvIIgzXkZuS4M4O8tB92Anah3490ZU9QYU1RB/StngFaZyKLWdtHp8KDYng41DZiHrdHGXh/+4pERgbQ0pFw8GZuTLh3QiwlI5WBdrO6HOgTTFDkJv40V2vJdicPDBwsvfimldUJ6yOfevk0hJvAgRM3uJ2z9tcdOSVi37ScK3hv67l30rb6ppmwQVjyMeFqtbxZPW+hNGf0GQgsH7ygvM7qQ46URJ1H12BDYo1OprGJxPDrDEYD1LNY2SpwY0NPCkcR1QMI9zSHTxvrZtOSIHNZmSXklwrkljhCDjebRmgZ7/hPsukQzcgg6wxqiDSyX91v1MRo0VvNcFPmw18ocs9YbiT2kdpKd1yNL44H5kQ0EKewvwqRJ/u4effxBgW+sALK4EKLgNkMbY=
script:
  - npm run test
notifications:
  webhooks: 'http://testhook.javascript.ru/automation/ci/build'
